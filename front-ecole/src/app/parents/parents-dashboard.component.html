<div class="dashboard-container">
  <div class="header">
    <h1>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Espace Parent</h1>
    <div class="user-info">
      <span>Bienvenue, {{ currentUser?.nom }} {{ currentUser?.prenom }}</span>
      <button (click)="logout()" class="logout-btn">D√©connexion</button>
    </div>
  </div>

  <div class="content" *ngIf="!loading">
    <div class="enfants-section">
      <h2>Mes enfants</h2>
      <div class="enfants-grid" *ngIf="enfants.length > 0; else noEnfants">
        <div class="enfant-card" *ngFor="let enfant of enfants">
          <div class="enfant-info">
            <div class="enfant-name">{{ enfant.user?.nom }} {{ enfant.user?.prenom }}</div>
            <div class="enfant-details">
              <span>Classe : {{ enfant.classe?.nom }}</span>
              <span>Matricule : {{ enfant.numero_matricule }}</span>
            </div>
          </div>
        </div>
      </div>
      <ng-template #noEnfants>
        <div class="no-data">
          <p>Aucun enfant enregistr√©</p>
        </div>
      </ng-template>
    </div>

    <div class="bulletins-section">
      <h2>Bulletins disponibles</h2>
      <div class="bulletins-grid" *ngIf="bulletins.length > 0; else noBulletins">
        <div class="bulletin-card" *ngFor="let bulletin of bulletins">
          <div class="bulletin-header">
            <div class="bulletin-title">
              {{ bulletin.eleve?.user?.nom }} {{ bulletin.eleve?.user?.prenom }}
            </div>
            <div class="bulletin-period">{{ bulletin.periode }}</div>
          </div>
          <div class="bulletin-content">
            <div class="bulletin-stats">
              <div class="stat">
                <span class="stat-label">Moyenne :</span>
                <span class="stat-value">{{ bulletin.moyenne_generale }}/20</span>
              </div>
              <div class="stat">
                <span class="stat-label">Rang :</span>
                <span class="stat-value">{{ bulletin.rang }}√®me</span>
              </div>
              <div class="stat">
                <span class="stat-label">Mention :</span>
                <span class="stat-value">{{ bulletin.mention }}</span>
              </div>
            </div>
            <div class="bulletin-actions">
              <button (click)="downloadBulletin(bulletin.id)" class="download-btn">
                üì• T√©l√©charger PDF
              </button>
            </div>
          </div>
        </div>
      </div>
      <ng-template #noBulletins>
        <div class="no-data">
          <p>Aucun bulletin disponible pour le moment</p>
        </div>
      </ng-template>
    </div>
  </div>

  <div class="loading" *ngIf="loading">
    <p>Chargement en cours...</p>
  </div>
</div> 